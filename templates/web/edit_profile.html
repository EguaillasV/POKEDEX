{% extends 'base.html' %}

{% block title %}Editar Perfil - Animal Recognition{% endblock %}

{% block content %}
<div class="py-8">
    <div class="max-w-2xl mx-auto">
        <!-- Header -->
        <div class="gradient-bg text-white rounded-lg p-8 mb-8 card-shadow">
  <div class="flex items-center gap-4">
    <img
      src="https://img.icons8.com/fluency/64/edit.png"
      alt="edit"
      class="w-12 h-12"
    />

    <div>
      <h1 class="text-3xl font-bold">Editar Información Personal</h1>
      <p class="text-purple-100">Actualiza tus datos personales</p>
    </div>
  </div>
</div>


        <!-- Form -->
        <div class="bg-white rounded-lg p-8 card-shadow">
            <form method="post" action="#" class="space-y-6">
                {% csrf_token %}

                <!-- Información de Cuenta -->
                <div>
                    <div class="flex items-center mb-6">
                        <svg class="w-6 h-6 text-purple-600 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
                        </svg>
                        <h2 class="text-xl font-bold text-gray-800">Información de Cuenta</h2>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Correo Electrónico (Solo lectura) -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Correo Electrónico</label>
                            <input type="email" value="{{ user.email }}" readonly class="w-full px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-600" disabled>
                        </div>

                        <!-- Fecha de Registro (Solo lectura) -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Fecha de Registro</label>
                            <input type="text" value="{{ user.date_joined|date:'d \d\e F \d\e Y' }}" readonly class="w-full px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-600" disabled>
                        </div>
                    </div>
                </div>

                <!-- Información Personal -->
                <div>
                    <div class="flex items-center mb-6 pt-6 border-t border-gray-200">
                        <svg class="w-6 h-6 text-purple-600 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        <h2 class="text-xl font-bold text-gray-800">Información Personal</h2>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Nombre de Usuario (Solo lectura) -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Nombre de Usuario</label>
                            <input type="text" value="{{ user.username }}" readonly class="w-full px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-600" disabled>
                        </div>

                        <!-- Nombre Completo -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Nombre Completo</label>
                            <input type="text" name="full_name" value="{% if user.first_name %}{{ user.first_name }} {{ user.last_name }}{% endif %}" placeholder="Juan Pérez García" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent">
                        </div>

                        <!-- Teléfono -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Teléfono</label>
                            <div class="flex gap-2">
                                <input type="text" value="+593" readonly class="w-16 px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-600" disabled>
                                <input type="text" name="phone" value="{% if user.userprofile.phone %}{{ user.userprofile.phone }}{% endif %}" placeholder="9999999999" class="flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent">
                            </div>
                        </div>

                        <!-- País -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">País</label>
                            <select name="country" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent">
                                <option value="">Seleccionar país</option>
                                <option value="Ecuador" {% if user.userprofile.country == 'Ecuador' %}selected{% endif %}>Ecuador</option>
                                <option value="Perú" {% if user.userprofile.country == 'Perú' %}selected{% endif %}>Perú</option>
                                <option value="Colombia" {% if user.userprofile.country == 'Colombia' %}selected{% endif %}>Colombia</option>
                                <option value="Venezuela" {% if user.userprofile.country == 'Venezuela' %}selected{% endif %}>Venezuela</option>
                                <option value="Argentina" {% if user.userprofile.country == 'Argentina' %}selected{% endif %}>Argentina</option>
                                <option value="Chile" {% if user.userprofile.country == 'Chile' %}selected{% endif %}>Chile</option>
                                <option value="Brasil" {% if user.userprofile.country == 'Brasil' %}selected{% endif %}>Brasil</option>
                            </select>
                        </div>

                        <!-- Provincia/Estado -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Provincia / Estado</label>
                            <input type="text" name="province" value="{% if user.userprofile.province %}{{ user.userprofile.province }}{% endif %}" placeholder="Pichincha" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent">
                        </div>

                        <!-- Ciudad -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Ciudad</label>
                            <input type="text" name="city" value="{% if user.userprofile.city %}{{ user.userprofile.city }}{% endif %}" placeholder="Quito" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent">
                        </div>

                        <!-- Dirección (columna completa) -->
                        <div class="md:col-span-2">
                            <label class="block text-sm font-medium text-gray-700 mb-2">Dirección</label>
                            <textarea name="address" rows="2" placeholder="Calle, número, sector (opcional)" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent">{% if user.userprofile.address %}{{ user.userprofile.address }}{% endif %}</textarea>
                        </div>
                    </div>
                </div>

                <!-- Botones -->
                <div class="flex gap-4 pt-6 border-t border-gray-200">
                    <a href="{% url 'gestion_cuenta' %}" class="px-6 py-2 border-2 border-red-500 text-red-500 rounded-lg font-medium hover:bg-red-50 transition">
                        ✕ Cancelar
                    </a>
                    <button type="submit" class="flex-1 px-6 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg font-medium hover:from-purple-700 hover:to-pink-700 transition">
                        ✓ Guardar Cambios
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}
